<!-- <div class="background rounded" >

    <h2><small class="form-text text-muted negrito-padding text-center">Lista de Pedidos</small></h2> -->

<div class="card mt-4 mb-4">

  <div class="card-body">
    <h5 class="card-title mb-2">Lista de Pedidos</h5>

    <a [routerLink]="['/admin']"> <img src="../../../assets/imagens/left-arrow.png" alt="" class="icon-back"> </a>

    <table class="table text-center table-hover mt-2" *ngIf="pesquisado == undefined"
      [hidden]="isDelete == true || isShowMore">
      <thead>

        <tr>
          <th>ID do pedido</th>
          <th>Nome Usuario</th>
          <th>CPF</th>
          <th>R$</th>
          <th>Data da venda</th>
          <th>Status</th>
          <th>Pagamento</th>

          <th>Ver mais / Excluir / Editar</th>
        </tr>
      </thead>

      <tbody>

        <tr *ngFor="let pedido of infosPedidos; let i=index">
          <td> {{ pedido?.id  }}</td>
          <td> {{ pedido?.usuario?.nome }}</td>
          <td> {{ pedido?.usuario?.cpf }}</td>
          <td> {{ pedido?.valor }}</td>
          <td> {{ pedido?.dataVenda }}</td>
          <td> {{ pedido?.status }}</td>
          <td> {{ pedido?.pagamento }}</td>

          <td>
            <button class="btn btn-info btn-sm mr-2" (click)="showMore(pedido?.id)">
                <i class="fas fa-plus-square"></i>
            </button>
            <button class="btn btn-danger btn-sm mr-2" (click)="excluir(pedido?.id)">
                <i class="far fa-trash-alt"></i>
            </button>
            <button class="btn btn-primary btn-sm mr-2" (click)="excluir(pedido?.id)">
                <i class="far fa-edit"></i>
            </button>
          </td>

      </tbody>
    </table>

    <!-- Modal -->
    <div class="modal" #modal style="overflow: auto; ">
      <div style="width: 80%; height: 80%; margin: auto;">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Detalhes do pedido</h4>
            <button type="button" class="close" (click)="closeModal()">&times;</button>
          </div>
          <div class="modal-body">


            <table class="table text-center">

              <thead class="thead-dark">
                <div class="alert alert-success">
                  Detalhes do Produto
                </div>

                <tr>
                  <th scope="col">ID</th>
                  <th scope="col">Valor</th>
                  <th scope="col">Data de venda</th>
                  <th scope="col">Total de itens</th>
                  <th scope="col">Pagamento </th>
                  <th scope="col">Parcelas</th>
                  <th scope="col">Valor Parcelas</th>
                  <th scope="col">Status</th>
                </tr>

                <tr scope="row">
                  <td>{{ showMoreByid?.id }}</td>
                  <td>{{ showMoreByid?.valor }}</td>
                  <td>{{ showMoreByid?.dataVenda }}</td>
                  <td>{{ showMoreByid?.totalItens }}</td>
                  <td>{{ showMoreByid?.pagamento }}</td>
                  <td>{{ showMoreByid?.parcelas }}</td>
                  <td>{{ showMoreByid?.valorParcela }}</td>
                  <td>{{ showMoreByid?.status }}</td>
                </tr>

                <div colspan="2" class="alert alert-success">
                  Item(s)
                </div>

                <tr>
                  <th>Id produto</th>
                  <th>Nome produto</th>
                  <th>Pre√ßo produto</th>
                </tr>

                <tr *ngFor="let it of itens">
                  <td> {{ it.produto?.idProduto }} </td>
                  <td> {{ it.produto?.nome }} </td>
                  <td> {{ it.produto?.preco }} </td>
                </tr>
              </thead>

              <div class="alert alert-success">
                Detalhes do cliente
              </div>
              <tbody class="thead-dark">
                <tr>
                  <th scope="col">Id</th>
                  <th scope="col">Nome</th>
                  <th scope="col">Email</th>
                  <th scope="col">CPF</th>
                  <th scope="col">Telefone</th>
                  <th scope="col">Celular</th>
                </tr>

                <tr *ngFor="let info of infosPedidos">
                  <td>{{ info.usuario?.id }}</td>
                  <td>{{ info.usuario?.nome }}</td>
                  <td>{{ info.usuario?.email }}</td>
                  <td>{{ info.usuario?.cpf }}</td>
                  <td>{{ info.usuario?.telefone }}</td>
                  <td>{{ info.usuario?.celular }}</td>
                </tr>
              </tbody>
            </table>

          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" (click)="closeModal()">Close</button>
          </div>
        </div>
      </div>
    </div>

    <!-- <app-deletar-produto [hidden]="isDelete == false" [idProduto]="id" (close)="lessDelete()" (deletado)="showMsgApagou($event)"></app-deletar-produto>-->
    <app-show-more *ngIf="isShowMore" [produto]="selecionado" (close)="lessMore()"></app-show-more>
  </div>
</div>
